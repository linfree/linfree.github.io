<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="1EB8XoOl0C"><title> Python，Re模块的学习 · 静思地</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Python，Re模块的学习"><meta name="keywords" content="Python Re 正则表达式 学习 笔记"><meta name="author" content="Lin Free"><link rel="short icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/bubuzou.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.fbi.st/atom.xml" title="静思地"></head><body><header><div class="header row"> <a href="http://fbi.st/" class="logo-link"><img src="/images/logo.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" data-hover="博文" class="nav-list-link">博文</a></li><li class="nav-list-item"><a href="/archives/" target="_self" data-hover="归档" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/categories/live/" target="_self" data-hover="生活" class="nav-list-link">生活</a></li><li class="nav-list-item"><a href="/categories/read/" target="_self" data-hover="读书" class="nav-list-link">读书</a></li><li class="nav-list-item"><a href="/about/" target="_self" data-hover="关于" class="nav-list-link">关于</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div></div></header><div class="row scroll-con"><section class="container"><!-- for archive page--><div id="postAr" class="post"><article class="post-block"><h1 class="post-title">Python，Re模块的学习</h1><div class="post-info">2017-05-20 20:07</div><div class="post-content"><h2 id="1-概念："><a href="#1-概念：" class="headerlink" title="1.概念："></a>1.概念：</h2><p>正则表达式（或 RE）是一种小型的、高度专业化的编程语言，在Python中）它内嵌在Python中，并通过 re 模块实现。<br>使用这个小型语言，你可以为想要匹配的相应字符串集指定规则；<br>该字符串集可能包含英文语句、email、地址、TeX命令或任何你想搞定的东西。<br>然后你可以问诸如“这个字符串匹配该模式吗？”或“在这个字符串中是否有部分匹配该模式呢？”。<br>你也可以使用 RE以各种方式来修改或分割字符串。正则表达式语言相对小型和受限（功能有限），<br>因此并非所有字符串处理都能用正则表达式完成。<br>当然也有些任务可以用正则表达式完成，不过最终表达式会变得异常复杂。<br>碰到这些情形时，编写 Python 代码进行处理可能反而更好；<br>尽管Python 代码比一个精巧的正则表达式要慢些，但它更易理解。  </p>
<a id="more"></a>
<h2 id="2-在正则表达式中，-如下的字符是具有特殊含义的"><a href="#2-在正则表达式中，-如下的字符是具有特殊含义的" class="headerlink" title="2.在正则表达式中， 如下的字符是具有特殊含义的"></a>2.在正则表达式中， 如下的字符是具有特殊含义的</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">. (所有字符)  ^  $  *(0-N次)  +(1-N次)  ? (0-1次) &#123; &#125; [  ]  \  |  ( )</span><br></pre></td></tr></table></figure>
<p>1).”[“ 和 “]”。它们常用来指定一个字符类别，所谓字符类别就是你想匹配的一个字符集</p>
<p>2).其它地方的”^”只会简单匹配 “^”字符本身。例[^5] 将匹配除 “5” 之外的任意字符。</p>
<p>3).反斜杠后面可以加不同的字符以表示不同特殊意义。它也可以用于取消所有的元字符</p>
<h2 id="3-RE-函数用法"><a href="#3-RE-函数用法" class="headerlink" title="3.RE 函数用法:"></a>3.RE 函数用法:</h2><p>   findall(rule , target [,flag] ) 在目标字符串中查找符合规则的字符串。<br>   match() 决定 RE 是否在字符串刚开始的位置匹配<br>   search() 扫描字符串，找到这个 RE 匹配的位置<br>   findall() 找到 RE 匹配的所有子串，并把它们作为一个列表返回<br>   finditer() 找到 RE 匹配的所有子串，并把它们作为一个迭代器返回<br>   group() 返回被 RE 匹配的字符串<br>   start() 返回匹配开始的位置<br>   end() 返回匹配结束的位置<br>   span() 返回一个元组包含匹配 (开始,结束) 的位置<br>   compile( rule [,flag] )将正则规则编译成一个Pattern对象，以供接下来使用第一个参数是规则式，第二个参数是规则选项。(使用compile加速)</p>
<h2 id="4-含义"><a href="#4-含义" class="headerlink" title="4 : 含义:"></a>4 : 含义:</h2><pre><code>预定义转义字符集： “\d”  “\w” “\s” 等等，它们是以字符’\’开头，后面接一个特定字符的形式,用来指示一个预定义好的含义

‘^’  和’$’ 匹配字符串开头和结尾
‘.’    匹配所有字符 除\n以外
‘\d’  匹配数字
‘\D’  匹配非数字
‘\w’  匹配字母和数字
‘\W’  匹配非英文字母和数字
‘\s’   匹配间隔符
‘\S’   匹配非间隔符
‘\A’  匹配字符串开头
‘\Z’  匹配字符串结尾
‘\b’  只用以匹配单词的词首和词尾。单词被定义为一个字母数字序列，因此词尾就是用空白符或非字母数字符来标示的。(退格)
‘\B’，它正好同 \b 相反，只在当前位置不在单词边界时匹配。
</code></pre><h2 id="5-前向界定与后向界定"><a href="#5-前向界定与后向界定" class="headerlink" title="5.前向界定与后向界定:"></a>5.前向界定与后向界定:</h2><pre><code>‘(?&lt;=…)’ 前向界定:括号中’…’代表你希望匹配的字符串的前面应该出现的字符串。
‘(?=…)’后向界定    :括号中的’…’代表你希望匹配的字符串后面应该出现的字符串
‘(?&lt;!..)’前向非界定 :只有当你希望的字符串前面不是’…’的内容时才匹配
‘(?!...)’后向非界定  :只有当你希望的字符串后面不跟着’…’内容时才匹配。
</code></pre><h2 id="6-组的基本知识"><a href="#6-组的基本知识" class="headerlink" title="6.组的基本知识:"></a>6.组的基本知识:</h2><pre><code>‘(‘’)’          无命名组                    [a-z]+(\d+)[a-z]+
‘(?P&lt;name&gt;…)’    命名组                    (?P&lt;g1&gt;[a-z]+)\d+(?P=g1)
‘(?P=name)’    调用已匹配的命名组
‘\number’     通过序号调用已匹配的组正则式中的每个组都有一个序号，序号是按组从左到右，从1开始的数字，你可以通过下面的形式来调用已匹配的组 ( r&quot;(\d+)([a-z]+)(\d+)(\2)(\1)&quot; )  
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:UTF8 -*- </span><br><span class="line">import sys</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(&apos;utf-8&apos;)</span><br><span class="line"></span><br><span class="line">import rhinoscriptsyntax as rs</span><br><span class="line"># 正则表达式</span><br><span class="line">import re</span><br><span class="line">str1 = &quot;abc \\ 123 456&quot;</span><br><span class="line">print re.findall(&quot;\\\\&quot;,str1)  # 不用r和用r的区</span><br><span class="line">print re.findall(r&quot;\d\Z&quot;,str1) # 用&quot;r&quot;来定义规则字符串</span><br><span class="line"></span><br><span class="line">p = re.compile(&apos;(a)b&apos;)</span><br><span class="line">m = p.match(&apos;ab&apos;)</span><br><span class="line">print m.group()</span><br><span class="line"></span><br><span class="line">s = &quot;aaa1 22 gg 333 ccc 4444 pppp 55555 666&quot;</span><br><span class="line">print re.findall(r&quot;\b\d&#123;3&#125;\b&quot;,s)</span><br><span class="line">print re.findall(r&quot;\b\d&#123;2,4&#125;\b&quot;,s)</span><br><span class="line"></span><br><span class="line">s2 = &quot;aaa111aaa , bbb222 , 333ccc&quot;</span><br><span class="line">print re.findall( r&quot;(?&lt;=[a-z]+)\d+(?=[a-z]+)&quot;,s2 )</span><br><span class="line">print re.findall( r&quot;\d+(?=[a-z]+)&quot;,s2 )</span><br><span class="line">## 目标 前面是a-z 1-多次、中间数字1-9 1-多次</span><br><span class="line">print re.findall(r&quot;\d+(?!\w+)&quot;,s2)</span><br><span class="line">#无命名组</span><br><span class="line">print re.findall(r&quot;[a-z]+(\d+)[a-z]+&quot;,s2) # 只返回()里面的</span><br><span class="line">s3 = &apos;aaa111aaa,bbb222,333ccc,444ddd444,555eee666,fff777ggg,hhh888hhh&apos;</span><br><span class="line">print re.findall(r&quot;([a-z]+)\d+([a-z]+)&quot;,s3) #返回括号里面的</span><br><span class="line">#‘(?P&lt;name&gt;…)’ 命名组</span><br><span class="line">print re.findall( r&quot;(?P&lt;g1&gt;[a-z]+)\d+(?P=g1)&quot;,s3 ) #找出被中间夹有数字的前后同样的字母</span><br><span class="line">print re.findall(r&quot;([a-z]+)\d+\1&quot;,s3)</span><br><span class="line">s4 = &quot;111aaa222aaa111,333bbb444bb33&quot;</span><br><span class="line">print re.findall( r&quot;(\d+)([a-z]+)(\d+)(\2)(\1)&quot;, s4 ) #数字、字母、数字、字母、数字相对称</span><br><span class="line">print re.compile(r&quot;(\d+)([a-z]+)(\d+)(\2)(\1)&quot;).findall(s4)</span><br><span class="line"></span><br><span class="line">#compile( rule [,flag] ) 使用compile加速</span><br><span class="line">s5 = &quot;111,222,aaa,bbb,ccc333,444ddd&quot;</span><br><span class="line">print re.compile(r&quot;\d+\b&quot;).findall(s5) # \退格 匹配一个位于开头的数字，没有使用M选项</span><br><span class="line"></span><br><span class="line">s6 = &quot;123 456\n789 012\n345 678&quot;</span><br><span class="line">print re.compile(r&quot;^\d+&quot;,re.M).findall(s6) # 匹配位于(M/多行)开头的数字</span><br><span class="line"></span><br><span class="line">rcm=re.compile(r&quot;\d+$&quot;)# 对于’$’来说，没有使用M选项，它将匹配最后一个行尾的数字，即’678’，加上以后，就能匹配三个行尾的数字456 012和678了.</span><br><span class="line">print re.compile(r&quot;\d+$&quot;,re.M).findall(s6) #</span><br></pre></td></tr></table></figure>
</div></article></div><div class="right-container"><div class="widget"><div class="category"><h4>分类归档</h4><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Elasticsearch非权威指南/">Elasticsearch非权威指南</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/">leetcode</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/live/">live</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/php/">php</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/read/">read</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">tools</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">7</span></li></ul></div></div><div class="widget"><div class="tagcloud"><h4>标签云</h4><a href="/tags/Elasticsearch/" style="font-size: 20px;">Elasticsearch</a> <a href="/tags/Hadoop/" style="font-size: 12px;">Hadoop</a> <a href="/tags/Linux/" style="font-size: 14px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 14px;">MySQL</a> <a href="/tags/Mysql/" style="font-size: 14px;">Mysql</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/leetcode/" style="font-size: 10px;">leetcode</a> <a href="/tags/php/" style="font-size: 18px;">php</a> <a href="/tags/python/" style="font-size: 16px;">python</a> <a href="/tags/tools/" style="font-size: 12px;">tools</a> <a href="/tags/数据库/" style="font-size: 16px;">数据库</a> <a href="/tags/生活/" style="font-size: 16px;">生活</a> <a href="/tags/电影/" style="font-size: 12px;">电影</a> <a href="/tags/读书笔记/" style="font-size: 10px;">读书笔记</a></div></div><div class="widget"><div class="recent"><h4>最近文章</h4><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/07/19/elasticsearch常用查询整理/">elasticsearch常用查询整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/20/《如何阅读一本书》读书笔记/">《如何阅读一本书》读书笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/27/mysql通过触发器远程同步/">mysql通过触发器远程同步</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/20/leetcode算法题Z字形变换的解答/">leetcode算法题Z字形变换的解答</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/10/常用mysql命令笔记/">常用mysql命令笔记</a></li></ul></div></div><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">搜索</label></div><div id="search_result" class="search-result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a href="/2017/05/20/php装ssh扩展/" class="prev">上一篇</a><a href="/2017/05/20/elasticsearch简介/" class="next">下一篇</a></div><div id="lv-container" data-id="city" data-uid="MTAyMC80MDQ4MC8xNzAwNw=="></div><script type="text/javascript">(function(d, s) {
var j, e = d.getElementsByTagName(s)[0];
if (typeof LivereTower === 'function') { return; }
j = d.createElement(s);
j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
j.async = true;
e.parentNode.insertBefore(j, e);
})(document, 'script');</script><noscript> 为正常使用来必力评论功能请激活JavaScript</noscript><div class="copyright"><p>© 2017 - 2019 <a target="_blank">Lin Free</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <br> and <a href="https://github.com/linfree/hexo-theme-bubuzou" target="_blank">hexo-theme-bubuzou</a>.</p></div><div class="totop"><i></i></div></div></footer><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src="/scripts/jquery-1.8.2.min.js"></script><script src="/scripts/arAnchor.js"></script><script src="/scripts/main.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>